<?xml version="1.0"?><Report><ReportQuery><Format><ReportTitle>Week Trip Arrivals Report</ReportTitle><ReportDescription>*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
*** REPORT NOT OPERATIONAL **&lt;BR&gt;
</ReportDescription><PageSize>A4</PageSize><PageOrientation>Portrait</PageOrientation><TopMargin></TopMargin><BottomMargin></BottomMargin><RightMargin></RightMargin><LeftMargin></LeftMargin><pdfFont></pdfFont><pdfFontSize></pdfFontSize><PreExecuteCode>/*
$sql = &quot;SELECT pub_ttb_id, week_start, location_id, dow, lateness
FROM t_actuals&quot;;

//$ds-&gt;Execute(&quot;delete from t_weekavg;&quot;);
$recordSet = $ds-&gt;Execute($sql)
   or die(&quot;$this-&gt;query_statement&lt;br&gt;Query failed : &quot; . $conn-&gt;ErrorMsg
());

        // Begin Target Output
if (!$recordSet)
{
    print $ds-&gt;ErrorMsg();
    die;
}


while (!$recordSet-&gt;EOF) 
{

$line = $recordSet-&gt;FetchRow();

$sql = &quot;&quot;;
$x = $line[&quot;week_start&quot;];
$line[&quot;week_start&quot;] = substr($x, 0, 2).&quot;-&quot;.substr($x, 3, 2).&quot;-&quot;.substr($x, 6, 4);



switch ( $line[&quot;dow&quot;] )
{
    case &quot;1&quot;:
      $sql = &quot;update t_summary set mondiff = '&quot;.$line[&quot;lateness&quot;].&quot;' 
               where pub_ttb_id = &quot;.$line[&quot;pub_ttb_id&quot;].&quot;
               and week_start = '&quot;.$line[&quot;week_start&quot;].&quot;'
               and location_id = &quot;.$line[&quot;location_id&quot;].&quot;;&quot;;
      break;

    case &quot;2&quot;:
      $sql = &quot;update t_summary set tuediff = '&quot;.$line[&quot;lateness&quot;].&quot;' 
               where pub_ttb_id = &quot;.$line[&quot;pub_ttb_id&quot;].&quot;
               and week_start = '&quot;.$line[&quot;week_start&quot;].&quot;'
               and location_id = &quot;.$line[&quot;location_id&quot;].&quot;;&quot;;
      break;

    case &quot;3&quot;:
      $sql = &quot;update t_summary set weddiff = '&quot;.$line[&quot;lateness&quot;].&quot;' 
               where pub_ttb_id = &quot;.$line[&quot;pub_ttb_id&quot;].&quot;
               and week_start = '&quot;.$line[&quot;week_start&quot;].&quot;'
               and location_id = &quot;.$line[&quot;location_id&quot;].&quot;;&quot;;
      break;

    case &quot;4&quot;:
      $sql = &quot;update t_summary set thudiff = '&quot;.$line[&quot;lateness&quot;].&quot;' 
               where pub_ttb_id = &quot;.$line[&quot;pub_ttb_id&quot;].&quot;
               and week_start = '&quot;.$line[&quot;week_start&quot;].&quot;'
               and location_id = &quot;.$line[&quot;location_id&quot;].&quot;;&quot;;
      break;

    case &quot;5&quot;:
      $sql = &quot;update t_summary set fridiff = '&quot;.$line[&quot;lateness&quot;].&quot;' 
               where pub_ttb_id = &quot;.$line[&quot;pub_ttb_id&quot;].&quot;
               and week_start = '&quot;.$line[&quot;week_start&quot;].&quot;'
               and location_id = &quot;.$line[&quot;location_id&quot;].&quot;;&quot;;
      break;

    case &quot;6&quot;:
      $sql = &quot;update t_summary set satdiff = '&quot;.$line[&quot;lateness&quot;].&quot;' 
               where pub_ttb_id = &quot;.$line[&quot;pub_ttb_id&quot;].&quot;
               and week_start = '&quot;.$line[&quot;week_start&quot;].&quot;'
               and location_id = &quot;.$line[&quot;location_id&quot;].&quot;;&quot;;
      break;

     default:
      $sql = &quot;update t_summary set sundiff = '&quot;.$line[&quot;lateness&quot;].&quot;' 
               where pub_ttb_id = &quot;.$line[&quot;pub_ttb_id&quot;].&quot;
               and week_start = '&quot;.$line[&quot;week_start&quot;].&quot;'
               and location_id = &quot;.$line[&quot;location_id&quot;].&quot;;&quot;;

      break;

}


$ds-&gt;Execute($sql) or print $ds-&gt;ErrorMsg();

if ($recordSet-&gt;EOF)
     break;
}
*/
</PreExecuteCode><bodyDisplay>show</bodyDisplay><graphDisplay>show</graphDisplay></Format><Datasource><SourceType>database</SourceType><SourceConnection><DatabaseType></DatabaseType><DatabaseName>centurion</DatabaseName><HostName>centlive_tcp</HostName><ServiceName>?Unknown?</ServiceName><UserName></UserName><Password></Password></SourceConnection></Datasource><EntryForm><Query><TableSql>t_summary,publish_tt,service,route,location,t_event</TableSql><WhereSql>AND 1 = 1 AND 1 = 1 AND 1 = 1 AND 1 = 1 AND t_summary.pub_ttb_id = publish_tt.pub_ttb_id AND publish_tt.service_id = service.service_id AND service.route_id = route.route_id  
AND publish_tt.evprf_id = t_event.evprf_id AND location.location_id = t_summary.location_id</WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>trip_no</Name><TableName>publish_tt</TableName><ColumnName>trip_no</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Trip No.</column_title><tooltip></tooltip><group_header_label>Trip No.</group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>20%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>rpat_orderby</Name><TableName>t_summary</TableName><ColumnName>location_id</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Order</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>route_code</Name><TableName>route</TableName><ColumnName>route_code</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Route Code</column_title><tooltip></tooltip><group_header_label>Route Code</group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>20%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>description</Name><TableName>location</TableName><ColumnName>description</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Timing Point</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>thetime</Name><TableName>t_summary</TableName><ColumnName>pub_time</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Sched</column_title><tooltip></tooltip><group_header_label>Scheduled</group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>15%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>sundiff</Name><TableName>t_summary</TableName><ColumnName>sundiff</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Sun</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>mondiff</Name><TableName>t_summary</TableName><ColumnName>mondiff</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Mon</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>tuediff</Name><TableName>t_summary</TableName><ColumnName>tuediff</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Tue</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>weddiff</Name><TableName>t_summary</TableName><ColumnName>weddiff</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Wed</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>thudiff</Name><TableName>t_summary</TableName><ColumnName>thudiff</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Thu</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>fridiff</Name><TableName>t_summary</TableName><ColumnName>fridiff</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Fri</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>satdiff</Name><TableName>t_summary</TableName><ColumnName>satdiff</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Sat</column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>pub_ttb_id</Name><TableName>publish_tt</TableName><ColumnName>pub_ttb_id</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label></group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>week_start</Name><TableName>t_summary</TableName><ColumnName>week_start</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Week Beginning</column_title><tooltip></tooltip><group_header_label>Week Beginning</group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>20%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>min_event</Name><TableName>t_event</TableName><ColumnName>min_event</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Operates On</column_title><tooltip></tooltip><group_header_label>Operates On</group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>20%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>start_time</Name><TableName>publish_tt</TableName><ColumnName>start_time</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Scheduled Start</column_title><tooltip></tooltip><group_header_label>Scheduled Start</group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>20%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>wef_date</Name><TableName>service</TableName><ColumnName>wef_date</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Timetable From</column_title><tooltip></tooltip><group_header_label>Timetable From</group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>20%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn><QueryColumn><Name>service_code</Name><TableName>service</TableName><ColumnName>service_code</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Service </column_title><tooltip></tooltip><group_header_label>Service </group_header_label><group_header_label_xpos>5%</group_header_label_xpos><group_header_data_xpos>15%</group_header_data_xpos><group_trailer_label></group_trailer_label></Format></QueryColumn></QueryColumns><OrderColumns><OrderColumn><Name>route_code</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>week_start</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>min_event</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>start_time</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>service_code</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>thetime</Name><OrderType>ASC</OrderType></OrderColumn></OrderColumns><PreSQLS><PreSQL><SQLText>create temp table t_weeks
(
    week_start date,
    week_end date
);</SQLText></PreSQL><PreSQL><SQLText>insert into t_weeks values ( {=sundays}, {=sundays} );
</SQLText></PreSQL><PreSQL><SQLText>create temp table t_summary
(
    pub_ttb_id integer,
    week_start date,
    week_end date,
    rpat_orderby integer,
    location_id integer,
    pub_time datetime hour to second,
    suntime datetime year to second,
    montime datetime year to second,
    tuetime datetime year to second,
    wedtime datetime year to second,
    thutime datetime year to second,
    fritime datetime year to second,
    sattime datetime year to second,
    sundiff interval day(3) to second,
    mondiff interval day(3) to second,
    tuediff interval day(3) to second,
    weddiff interval day(3) to second,
    thudiff interval day(3) to second,
    fridiff interval day(3) to second,
    satdiff interval day(3) to second
) with no log;</SQLText></PreSQL><PreSQL><SQLText>insert into t_summary (pub_ttb_id, week_start, week_end, location_id, pub_time )
select publish_tt.pub_ttb_id, t_weeks.week_start, t_weeks.week_end, location_id, pub_time
from route_for_user, service, publish_tt, publish_time, t_weeks
where 1 = 1
and route_for_user.route_id = service.route_id
and service.service_id = publish_tt.service_id
and publish_tt.pub_ttb_id = publish_time.pub_ttb_id
and t_weeks.week_start &gt;= service.wef_date - 6
and t_weeks.week_start &lt; service.wet_date
[and route_for_user.operator_id in ({operator})]
[and publish_tt.trip_no in ({trip_no})]
[and publish_tt.runningno in ({running_board})]
[and route_for_user.route_id in ({route})]
[and {=sundays} between week_start and week_start + 6]
;</SQLText></PreSQL><PreSQL><SQLText>create index ix_summary on t_summary(pub_ttb_id);</SQLText></PreSQL><PreSQL><SQLText>select t_summary.pub_ttb_id, week_start, pub_time, t_summary.location_id,
departure_time, departure_time_pub, departure_time_pub - departure_time lateness, weekday(actual_start) dow, date(actual_start) start_date
from t_summary, archive_rt, archive_rt_loc
where t_summary.pub_ttb_id = archive_rt.pub_ttb_id
and archive_rt.schedule_id = archive_rt_loc.schedule_id
and date(archive_rt.actual_start) between week_start and week_start+6
and t_summary.location_id = archive_rt_loc.location_id
and departure_time &gt; &quot;1970-01-01 00:00:00&quot;
into temp t_actuals with no log;

</SQLText></PreSQL><PreSQL><SQLText>create temp table t_event ( evprf_id integer, min_day_start integer, max_day_start integer, min_event char(15), max_event char(15) );</SQLText></PreSQL><PreSQL><SQLText>insert into t_event ( evprf_id, min_day_start, max_day_start)
select event_pattern.evprf_id, min(rpdy_start), max(rpdy_end)
from publish_tt, event_pattern, event
where publish_tt.evprf_id = event_pattern.evprf_id
and event_pattern.event_id = event.event_id
and pub_ttb_id in ( select UNIQUE pub_ttb_id FROM t_summary )
GROUP BY 1;</SQLText></PreSQL><PreSQL><SQLText>update t_event set ( min_event ) = (( SELECT min(event_code) FROM event, event_pattern
WHERE event.event_id = event_pattern.event_id
AND event_pattern.evprf_id = t_event.evprf_id
AND rpdy_start = t_event.min_day_start));</SQLText></PreSQL><PreSQL><SQLText>update t_event set ( max_event ) = (( SELECT max(event_code) FROM event, event_pattern
WHERE event.event_id = event_pattern.event_id
AND event_pattern.evprf_id = t_event.evprf_id
AND rpdy_start = t_event.max_day_start));</SQLText></PreSQL></PreSQLS></Query><Assignments><Assignment><AssignName>weddiff</AssignName><Expression>preg_replace(&quot;/0 /&quot;, &quot;&quot;,{weddiff});</Expression><Condition></Condition></Assignment><Assignment><AssignName>sundiff</AssignName><Expression>preg_replace(&quot;/0 /&quot;, &quot;&quot;,{sundiff});</Expression><Condition></Condition></Assignment><Assignment><AssignName>mondiff</AssignName><Expression>preg_replace(&quot;/0 /&quot;,  &quot;&quot;,{mondiff});</Expression><Condition></Condition></Assignment><Assignment><AssignName>tuediff</AssignName><Expression>preg_replace(&quot;/0 /&quot;, &quot;&quot;,{tuediff});</Expression><Condition></Condition></Assignment><Assignment><AssignName>thudiff</AssignName><Expression>preg_replace(&quot;/0 /&quot;,  &quot;&quot;,{thudiff});</Expression><Condition></Condition></Assignment><Assignment><AssignName>fridiff</AssignName><Expression>preg_replace(&quot;/0 /&quot;,  &quot;&quot;,{fridiff});</Expression><Condition></Condition></Assignment><Assignment><AssignName>satdiff</AssignName><Expression>preg_replace(&quot;/0 /&quot;, &quot;&quot;,{sundiff});</Expression><Condition></Condition></Assignment></Assignments><Criteria><CriteriaItem><Name>operator</Name><Title>Operator</Title><QueryTableName></QueryTableName><QueryColumnName></QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>operator_id</ReturnColumn><DisplayColumn>full</DisplayColumn><OverviewColumn>operator_code</OverviewColumn><MatchColumn>legal_name</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql>operator</TableSql><WhereSql> 
AND
operator.operator_id IN
( SELECT route_for_user.operator_id FROM route_for_user )</WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>operator_id</Name><TableName>operator</TableName><ColumnName>operator_id</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>operator_code</Name><TableName>operator</TableName><ColumnName>operator_code</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>legal_name</Name><TableName>operator</TableName><ColumnName>legal_name</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>full</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns><OrderColumn><Name>operator_code</Name><OrderType></OrderType></OrderColumn></OrderColumns><Assignments><Assignment><AssignName>full</AssignName><Expression>{operator_code}.'/'.{legal_name}</Expression><Condition></Condition></Assignment></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>route</Name><Title>Route</Title><QueryTableName></QueryTableName><QueryColumnName></QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>route_id</ReturnColumn><DisplayColumn>full</DisplayColumn><OverviewColumn>route_code</OverviewColumn><MatchColumn>description</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql>route_for_user</TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>route_id</Name><TableName>route_for_user</TableName><ColumnName>route_id</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>route_code</Name><TableName>route_for_user</TableName><ColumnName>route_code</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>description</Name><TableName>route_for_user</TableName><ColumnName>description</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>full</Name><TableName></TableName><ColumnName></ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns><OrderColumn><Name>route_code</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>description</Name><OrderType>ASC</OrderType></OrderColumn></OrderColumns><Assignments><Assignment><AssignName>full</AssignName><Expression>{route_code}.'/'.{description}</Expression><Condition></Condition></Assignment></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>running_board</Name><Title>Running Board</Title><QueryTableName></QueryTableName><QueryColumnName></QueryColumnName><CriteriaType>TEXTFIELD</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay></ExpandDisplay><ReturnColumn></ReturnColumn><DisplayColumn></DisplayColumn><OverviewColumn></OverviewColumn><MatchColumn></MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQL><QuerySql></QuerySql></SQL><QueryColumns></QueryColumns><OrderColumns></OrderColumns><Assignments></Assignments></Query><CriteriaLinks></CriteriaLinks></CriteriaItem><CriteriaItem><Name>trip_no</Name><Title>Trip No.</Title><QueryTableName></QueryTableName><QueryColumnName></QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>trip_no</ReturnColumn><DisplayColumn>full</DisplayColumn><OverviewColumn>trip_no</OverviewColumn><MatchColumn></MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql>publish_tt,service,route, cent_user</TableSql><WhereSql>   
AND (
route.operator_id = cent_user.operator_id
OR cent_user.operator_id IS NULL )
AND cent_user.usernm = USER 
AND publish_tt.service_id = service.service_id 
AND service.route_id = route.route_id  
[ AND route.operator_id IN ( {operator,VALUE} )]
[ AND route.route_id IN ( {route,VALUE} )]</WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>route_code</Name><TableName>route</TableName><ColumnName>route_code</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>service_code</Name><TableName>service</TableName><ColumnName>service_code</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>trip_no</Name><TableName>publish_tt</TableName><ColumnName>trip_no</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>start_time</Name><TableName>publish_tt</TableName><ColumnName>start_time</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>full</Name><TableName></TableName><ColumnName></ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns><OrderColumn><Name>route_code</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>start_time</Name><OrderType>ASC</OrderType></OrderColumn><OrderColumn><Name>service_code</Name><OrderType>ASC</OrderType></OrderColumn></OrderColumns><Assignments><Assignment><AssignName>full</AssignName><Expression>{route_code}.&quot; Trip &quot;.{trip_no}.&quot; &quot;.{start_time}</Expression><Condition></Condition></Assignment></Assignments></Query><CriteriaLinks><CriteriaLink><LinkFrom>trip_no</LinkFrom><LinkTo>route</LinkTo><LinkClause>route.route_id</LinkClause></CriteriaLink></CriteriaLinks></CriteriaItem><CriteriaItem><Name>sundays</Name><Title>Sundays</Title><QueryTableName></QueryTableName><QueryColumnName></QueryColumnName><CriteriaType>LOOKUP</CriteriaType><CriteriaDisplay>TEXTFIELD</CriteriaDisplay><ExpandDisplay>MULTI</ExpandDisplay><ReturnColumn>dispdate</ReturnColumn><DisplayColumn>dispdate</DisplayColumn><OverviewColumn>dispdate</OverviewColumn><MatchColumn>start</MatchColumn><CriteriaDefaults></CriteriaDefaults><CriteriaList></CriteriaList><Query><TableSql>archive_rt</TableSql><WhereSql>AND 1 = 1 AND date(actual_start) &gt; TODAY - 4 UNITS MONTH AND WEEKDAY(actual_start) = 0</WhereSql><GroupSql></GroupSql><RowSelection></RowSelection><SQL><QuerySql></QuerySql></SQL><QueryColumns><QueryColumn><Name>start</Name><TableName></TableName><ColumnName>date(actual_start)</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn><QueryColumn><Name>dispdate</Name><TableName></TableName><ColumnName></ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><justify>left</justify></Format></QueryColumn></QueryColumns><OrderColumns><OrderColumn><Name>start</Name><OrderType>DESC</OrderType></OrderColumn></OrderColumns><Assignments><Assignment><AssignName>dispdate</AssignName><Expression>substr({start},8,2).&quot;/&quot;.substr({start},5,2).&quot;/&quot;.substr({start},0,4)</Expression><Condition></Condition></Assignment></Assignments></Query><CriteriaLinks><CriteriaLink><LinkFrom>sundays</LinkFrom><LinkTo>route</LinkTo><LinkClause>archive_rt.route_id</LinkClause></CriteriaLink></CriteriaLinks></CriteriaItem></Criteria><Output><PageHeaders><PageHeader><LineNumber>1</LineNumber><HeaderText>Weekly Trip Lateness Report</HeaderText><Format><ColumnStartPDF>5%</ColumnStartPDF><justify>center</justify><ColumnWidthPDF>90%</ColumnWidthPDF></Format></PageHeader></PageHeaders><PageFooters><PageFooter><LineNumber>1</LineNumber><FooterText>Page: {page}</FooterText><Format><ColumnStartPDF>5%</ColumnStartPDF><justify>right</justify><ColumnWidthPDF>90%</ColumnWidthPDF></Format></PageFooter><PageFooter><LineNumber>1</LineNumber><FooterText>Centurion RTPI</FooterText><Format><ColumnStartPDF>5%</ColumnStartPDF><justify>left</justify><ColumnWidthPDF>90%</ColumnWidthPDF></Format></PageFooter></PageFooters><DisplayOrders><DisplayOrder><ColumnName>trip_no</ColumnName><OrderNumber>1</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>rpat_orderby</ColumnName><OrderNumber>2</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>route_code</ColumnName><OrderNumber>3</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>description</ColumnName><OrderNumber>4</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>pub_ttb_id</ColumnName><OrderNumber>5</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>week_start</ColumnName><OrderNumber>6</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>min_event</ColumnName><OrderNumber>7</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>start_time</ColumnName><OrderNumber>8</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>thetime</ColumnName><OrderNumber>9</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>wef_date</ColumnName><OrderNumber>10</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>service_code</ColumnName><OrderNumber>11</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>sundiff</ColumnName><OrderNumber>12</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>mondiff</ColumnName><OrderNumber>13</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>tuediff</ColumnName><OrderNumber>14</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>weddiff</ColumnName><OrderNumber>15</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>thudiff</ColumnName><OrderNumber>16</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>fridiff</ColumnName><OrderNumber>17</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>satdiff</ColumnName><OrderNumber>18</OrderNumber></DisplayOrder></DisplayOrders><Groups><Group><GroupName>route_code</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>route_code</GroupHeaderColumn></GroupHeader><GroupHeader><GroupHeaderColumn>week_start</GroupHeaderColumn></GroupHeader><GroupHeader><GroupHeaderColumn>wef_date</GroupHeaderColumn></GroupHeader></GroupHeaders><GroupTrailers></GroupTrailers></Group><Group><GroupName>pub_ttb_id</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>min_event</GroupHeaderColumn></GroupHeader><GroupHeader><GroupHeaderColumn>trip_no</GroupHeaderColumn></GroupHeader><GroupHeader><GroupHeaderColumn>start_time</GroupHeaderColumn></GroupHeader><GroupHeader><GroupHeaderColumn>service_code</GroupHeaderColumn></GroupHeader></GroupHeaders><GroupTrailers></GroupTrailers></Group></Groups><Graphs></Graphs></Output></EntryForm></ReportQuery></Report>